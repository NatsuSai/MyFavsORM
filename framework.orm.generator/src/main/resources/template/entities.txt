package ${package};

import java.io.Serializable;
import lombok.Data;
<% for(imp in imports){ %>
  <% for(col in columns){ %>
    <% if(imp == col.typeDefinition.name) {%>
import ${imp};
    <% break;} %>
  <% } %>
<% } %>
import work.myfavs.framework.orm.meta.annotation.Column;
import work.myfavs.framework.orm.meta.annotation.PrimaryKey;
import work.myfavs.framework.orm.meta.annotation.Table;
import work.myfavs.framework.orm.meta.enumeration.GenerationType;

@Data
@Table(value = ${class}.META.TABLE, strategy = ${generationType})
public class ${class} implements Serializable {

    public enum META {
      ;
      public static final String TABLE = "${table}";

      public interface COLUMNS {
<% for(col in columns){ %>
        String ${col.fieldName} = "${col.column}";
<% } %>
      }
    }

<% for(col in columns){ %>
    /**
     * ${col.comment}
     */
    @Column(value = ${class}.META.COLUMNS.${col.fieldName})
  <% if(col.primaryKey) { %>
    @PrimaryKey
    private ${col.typeDefinition.simpleName} ${col.fieldName} = null;
  <% } else { %>
    <% if(col.nullable) { %>
    private ${col.typeDefinition.simpleName} ${col.fieldName}<% if(col.typeDefinition.defValue != null) { %> = ${col.typeDefinition.defValue}; <% } else { %> = null; <% } %>
    <% } else { %>
    private ${col.typeDefinition.valueType} ${col.fieldName} = ${col.typeDefinition.defValue};
    <% } %>
  <% } %>
<% } %>
}